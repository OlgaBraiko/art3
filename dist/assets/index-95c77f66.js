(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const f=()=>{const d=({triggers:l,modal:o,close:r,closeClick:e=!0})=>{const t=document.querySelectorAll(l),s=document.querySelector(o),n=document.querySelector(r),c=document.querySelectorAll("[data-modal]");t.forEach(i=>{i.addEventListener("click",u=>{u.target&&u.preventDefault(),s.style.display="block",document.body.style.overflow="hidden"})});const a=()=>{s.style.display="none",document.body.style.overflow=""},p=()=>{c.forEach(i=>{i.style.display="none"})};s.addEventListener("click",i=>{i.target===s&&e&&(p(),a())}),n.addEventListener("click",()=>{a(),p()}),document.addEventListener("keypress",i=>{i.code.toLowerCase()==="escape"&&a()}),((i,u)=>{setTimeout(()=>{let m;document.querySelectorAll("[data-modal").forEach(h=>{getComputedStyle(h).display!="none"&&(m="block")}),m||(document.querySelector(i).style.display="block",document.body.style.overflow="hidden")},u)})(".popup-consultation",6e4)};d({triggers:".button-design",modal:".popup-design",close:".popup-design .popup-close"}),d({triggers:".button-consultation",modal:".popup-consultation",close:".popup-consultation .popup-close"})},v=(d,l,o,r)=>{let e=1;const t=document.querySelectorAll(d);document.querySelector(o),document.querySelector(r);const s=c=>{c>t.length&&(e=1),c<1&&(e=t.length),t.forEach(a=>{a.classList.add("animated"),a.style.display="none"}),t[e-1].style.display="block"};s(e);const n=c=>{s(e+=c)};try{const c=document.querySelector(o),a=document.querySelector(r);c.addEventListener("click",()=>{n(-1),t[e-1].classList.remove("slideInLeft"),t[e-1].classList.add("slideInRight")}),a.addEventListener("click",()=>{n(1),t[e-1].classList.add("slideInLeft"),t[e-1].classList.remove("slideInRight")})}catch{}setInterval(l==="vertical"?()=>{n(1),t[e-1].classList.add("slideInDown")}:()=>{n(1),t[e-1].classList.add("slideInLeft"),t[e-1].classList.remove("slideInRight")},2e3)},L=()=>{const d=document.querySelectorAll("form"),l=document.querySelectorAll("input"),o={loading:"Загрузка...",success:"Спасибо! Мы скоро с вами свяжемся",failure:"Что-то пошло не так...",spinner:"image/unknown-1.png",ok:"image/unknown.jpeg",fail:"image/unknown.png"};d.forEach(e=>{e.addEventListener("submit",t=>{t.preventDefault();const s=document.createElement("div");s.classList.add("status"),e==null||e.appendChild(s),e.classList.add("animated","fadeOutUp"),setTimeout(()=>{e.style.display="none"},400);const n=document.createElement("img");n.setAttribute("src",o.spinner),n.classList.add("animated","fadeInUp"),s.appendChild(n);const c=document.createElement("div");c.textContent=o.loading,s.appendChild(n);const a=new FormData(e),p=e.closest(".popup-design")?g.designer:g.question,y={};a.forEach((u,m)=>y[m]=u);const i=JSON.stringify(y);b(p,i).then(u=>{console.log({result:u}),n.setAttribute("src",o.ok),c.textContent=o.success}).catch(()=>{n.setAttribute("src",o.fail),c.textContent=o.failure}).finally(()=>{r(),setTimeout(()=>{s.remove(),e.style.display="block",e.classList.remove("fadeOutUp"),e.classList.add("fadeInUp")},5e3)})})});const r=()=>{l.forEach(e=>{e.value=""})}},g={designer:"https://simple-server-cumz.onrender.com/api/data",question:"https://simple-server-cumz.onrender.com/api/data"},b=async(d="https://simple-server-cumz.onrender.com/api/data",l)=>(console.log(l),await(await fetch("https://simple-server-cumz.onrender.com/api/data",{method:"POST",headers:{"Content-type":"application/json"},body:l})).text());window.addEventListener("DOMContentLoaded",()=>{f(),f(),v(".feedback-slider-item","horizontal",".main-prev-btn",".main-next-btn"),L()});
